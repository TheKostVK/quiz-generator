(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();class m{#t;#e;#r;constructor(e={}){const{containerSelector:t=".header",navSelector:r=".header__nav",burgerSelector:n=".header__burger"}=e;if(this.#t=document.querySelector(t),this.#e=document.querySelector(r),this.#r=document.querySelector(n),!this.#t)throw new Error("Header: .header not found");if(!this.#e)throw new Error("Header: .header__nav not found");this.#r&&this.#r.addEventListener("click",()=>{this.#t.classList.toggle("header--menu-open"),this.#e.classList.toggle("header--menu-mobile")}),this.#e.addEventListener("click",s=>{s.target.closest("a")&&(this.#t.classList.remove("header--menu-open"),this.#e.classList.remove("header--menu-mobile"))})}setMenuItems(e){this.#e&&(this.#e.replaceChildren(),e.forEach(t=>{const r=document.createElement("a");r.href=t.href,r.textContent=t.text,t.variant?r.className=`btn btn--${t.variant} header__nav-item`:r.className="header__link",t.ariaLabel&&r.setAttribute("aria-label",t.ariaLabel),t.isActive&&r.classList.add("header__link--active"),this.#e.append(r)}))}}const h="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let f=(i=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(i|=0));for(;i--;)e+=h[t[i]&63];return e};class l{#t=null;constructor(e){this.#t=e}static open(e,t,r){return new Promise((n,s)=>{if(!("indexedDB"in window)){s(new Error("IndexedDB не поддерживается браузером"));return}const o=indexedDB.open(e,t);o.onupgradeneeded=c=>{r&&r(o.result,c.oldVersion,c.newVersion)},o.onsuccess=()=>{n(new l(o.result))},o.onerror=()=>{s(o.error||new Error("Ошибка открытия IndexedDB"))}})}get(e,t){return this.#e(e,"readonly",r=>r.get(t))}getAll(e){return this.#e(e,"readonly",t=>t.getAll())}put(e,t,r){return this.#e(e,"readwrite",n=>r!==void 0?n.put(t,r):n.put(t))}delete(e,t){return this.#e(e,"readwrite",r=>r.delete(t))}clear(e){return this.#e(e,"readwrite",t=>t.clear())}#e(e,t,r){return new Promise((n,s)=>{if(!this.#t){s(new Error("База данных не инициализирована"));return}const o=this.#t.transaction(e,t),c=o.objectStore(e),u=r(c);u.onsuccess=()=>n(u.result),u.onerror=()=>s(u.error),o.onerror=()=>s(o.error)})}}const b="/quiz-generator/",p=1,g="quizzesDB",a="quizzes",d=l.open(g,p,i=>{i.objectStoreNames.contains(a)||i.createObjectStore(a,{keyPath:"id"})});async function w(i){return(await d).put(a,{id:f(),...i})}async function y(i){return(await d).get(a,i)}async function v(){return(await d).getAll(a)}export{b as B,m as H,y as a,v as g,f as n,w as s};
