(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();class g{#t;#e;#r;constructor(e={}){const{containerSelector:t=".header",navSelector:r=".header__nav",burgerSelector:n=".header__burger"}=e;if(this.#t=document.querySelector(t),this.#e=document.querySelector(r),this.#r=document.querySelector(n),!this.#t)throw new Error("Header: .header not found");if(!this.#e)throw new Error("Header: .header__nav not found");this.#r&&this.#r.addEventListener("click",()=>{this.#t.classList.toggle("header--menu-open"),this.#e.classList.toggle("header--menu-mobile")}),this.#e.addEventListener("click",s=>{s.target.closest("a")&&(this.#t.classList.remove("header--menu-open"),this.#e.classList.remove("header--menu-mobile"))})}setMenuItems(e){this.#e&&(this.#e.replaceChildren(),e.forEach(t=>{const r=document.createElement("a");r.href=t.href,r.textContent=t.text,t.variant?r.className=`btn btn--${t.variant} header__nav-item`:r.className="header__link",t.ariaLabel&&r.setAttribute("aria-label",t.ariaLabel),t.isActive&&r.classList.add("header__link--active"),this.#e.append(r)}))}}const f="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let p=(o=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(o|=0));for(;o--;)e+=f[t[o]&63];return e};class l{#t=null;constructor(e){this.#t=e}static open(e,t,r){return new Promise((n,s)=>{if(!("indexedDB"in window)){s(new Error("IndexedDB не поддерживается браузером"));return}const i=indexedDB.open(e,t);i.onupgradeneeded=c=>{r&&r(i.result,c.oldVersion,c.newVersion)},i.onsuccess=()=>{n(new l(i.result))},i.onerror=()=>{s(i.error||new Error("Ошибка открытия IndexedDB"))}})}get(e,t){return this.#e(e,"readonly",r=>r.get(t))}getAll(e){return this.#e(e,"readonly",t=>t.getAll())}put(e,t,r){return this.#e(e,"readwrite",n=>r!==void 0?n.put(t,r):n.put(t))}delete(e,t){return this.#e(e,"readwrite",r=>r.delete(t))}clear(e){return this.#e(e,"readwrite",t=>t.clear())}#e(e,t,r){return new Promise((n,s)=>{if(!this.#t){s(new Error("База данных не инициализирована"));return}const i=this.#t.transaction(e,t),c=i.objectStore(e),u=r(c);u.onsuccess=()=>n(u.result),u.onerror=()=>s(u.error),i.onerror=()=>s(i.error)})}}const m=1,b="quizzesDB",a="quizzes",h="processed-quizzes",d=l.open(b,m,o=>{o.objectStoreNames.contains(a)||o.createObjectStore(a,{keyPath:"id"}),o.objectStoreNames.contains(h)||o.createObjectStore(h,{keyPath:"id"})});async function w(o){return(await d).put(a,{id:p(),...o})}async function y(o){return(await d).get(a,o)}async function z(){return(await d).getAll(a)}export{g as H,y as a,z as g,p as n,w as s};
